<!-- <div class="container"> -->
<div class="row row-sm">
    <div class="col-lg-12">
        <div class="card custom-card">
            <div class="card-body new-body">
                <div class="temp-div">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Sales Permission Details</li>
                    </ol>
                    <!-- <div class="flex-upload">


                    </div> -->
                </div>
                <div class="row " style="margin-top: 10px;">
                    <div class="col-md-12">
                        <p-table [value]="users" dataKey="firstname">
                            <ng-template pTemplate="header">
                                <tr class="color">

                                    <th style="width: 2rem"></th>
                                    <th>
                                        First Name
                                        <!-- <p-sortIcon field="category"></p-sortIcon> -->
                                    </th>
                                    <th>Last Name</th>
                                    <th>Email </th>
                                    <th>Status </th>

                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-user let-expanded="expanded" colspan="5">
                                <tr class="color1">
                                    <td>
                                        <button type="button" pButton pRipple [pRowToggler]="user" class="p-button-text p-button-rounded p-button-plain ico" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
                                    </td>
                                    <td style="width: 2rem">{{ user.firstname }}</td>
                                    <td style="width: 2rem">{{user.lastname}}</td>
                                    <td style="width: 2rem">{{user.email}}</td>
                                    <td style="width: 2rem"><button class="statusbtn">{{(user.status==1)?'Pending':(user.status==2)?'Approved':(user.status==3)?'Locked':'Terminated'}}</button></td>

                                </tr>
                            </ng-template>
                            <ng-template pTemplate="rowexpansion" let-user let-expanded="true">
                                <tr class="color1">
                                    <td colspan="6">

                                        <div class="p-p-3 ">
                                            <p-table [value]="user.regionalReps" dataKey="firstname">
                                                <ng-template pTemplate="header">
                                                    <tr class="color">
                                                        <th style="width: 2rem">
                                                        </th>
                                                        <th>
                                                            Regional reps
                                                        </th>
                                                        <th>
                                                        </th>
                                                        <th>
                                                        </th>
                                                        <th>
                                                        </th>
                                                        <th>
                                                        </th>

                                                    </tr>

                                                </ng-template>
                                                <ng-template pTemplate="body" let-user let-expanded="true">
                                                    <tr class="color3">
                                                        <td>
                                                            <button type="button" pButton pRipple [pRowToggler]="user" class="p-button-text p-button-rounded p-button-plain ico" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
                                                        </td>
                                                        <!-- <td style="width: 2rem"></td> -->
                                                        <td style="width: 2rem">{{ user.regionalRep }}</td>
                                                        <td style="width: 2rem"></td>
                                                        <td style="width: 2rem"></td>
                                                        <td style="width: 2rem"></td>
                                                        <td style="width: 2rem"></td>
                                                        <td style="width: 2rem"></td>
                                                    </tr>
                                                </ng-template>
                                                <ng-template pTemplate="rowexpansion" let-regionalRep let-expanded="true">
                                                    <tr class="color4">
                                                        <td colspan="6">
                                                            <div class="p-p-3">
                                                                <p-table [value]="regionalRep.brokers" dataKey="firstname">
                                                                    <ng-template pTemplate="header" class="color1">
                                                                        <tr class="color">
                                                                            <th style="width: 2rem"></th>
                                                                            <th>
                                                                                Brokers

                                                                            </th>
                                                                            <th>
                                                                            </th>
                                                                            <th>
                                                                            </th>
                                                                            <th>
                                                                            </th>
                                                                            <th></th>

                                                                        </tr>
                                                                    </ng-template>
                                                                    <ng-template pTemplate="body" let-region let-expanded="true">
                                                                        <tr class="color5">
                                                                            <td style="width: 2rem"></td>
                                                                            <td style="width: 2rem">{{region}}</td>
                                                                            <td style="width: 2rem"></td>
                                                                            <td style="width: 2rem"></td>
                                                                            <td style="width: 2rem"></td>
                                                                            <td style="width: 2rem"></td>
                                                                        </tr>
                                                                    </ng-template>
                                                                </p-table>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </ng-template>
                                            </p-table>
                                        </div>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>